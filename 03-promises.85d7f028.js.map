{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEaC,SAASC,cAAc,SAC/BC,iBAAiB,UAgBtB,SAA0BC,GACxBA,EAAIC,iBACJ,IAAgCC,EAAAF,EAAIG,cAAcC,SAA1CC,EAAwBH,EAAxBI,MAAOC,EAAiBL,EAAjBK,KAAMC,EAAWN,EAAXM,OACjBC,EAAaC,OAAOL,EAAMM,OAC1BC,EAAY,EACZC,EAAW,EACTC,EAAaC,aAAY,WApBjC,IAAuBC,EAAUV,EAqBzBM,IAAcF,OAAOF,EAAOG,QAIhCC,GAAa,GAzBMI,EA0BnBH,GAAY,EA1BiBP,EA2BLG,EA1BnB,IAAIQ,SAAQ,SAACC,EAAKC,GACvBC,YAAW,WACaC,KAAKC,SAAW,GAEpCJ,EAAI,CAAEF,WAAUV,UAEhBa,EAAI,CAAEH,WAAUV,S,GAEjBA,E,KAmBAiB,MAAK,SAAAC,G,IAAGR,EAAQQ,EAARR,SAAUV,EAAKkB,EAALlB,MACjBmB,EAAA9B,GAAS+B,OAAOC,QACd,uBAAwCC,OAAfZ,EAAS,QAAYY,OAANtB,EAAM,M,IAEjDuB,OAAM,SAAAL,G,IAAGR,EAAQQ,EAARR,SAAUV,EAAKkB,EAALlB,MAClBmB,EAAA9B,GAAS+B,OAAOI,QAAQ,sBAAqCF,OAAfZ,EAAS,QAAYY,OAANtB,EAAM,M,IAEvEG,GAAcC,OAAOH,EAAKI,QAbxBoB,cAAcjB,E,GAcf,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from \"notiflix\";\n\nconst form = document.querySelector('.form');\nform.addEventListener('submit', handleFormSubmit);\n\nfunction createPromise(position, delay) {\n  return new Promise((res, rej) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        res({ position, delay })\n      } else {\n        rej({ position, delay })\n      }\n    }, delay)\n  })\n  \n}\n\nfunction handleFormSubmit(evt) {\n  evt.preventDefault();\n  const { delay, step, amount } = evt.currentTarget.elements;\n  let delayInput = Number(delay.value);\n  let amountVal = 0;\n  let position = 0; \n  const intervalId = setInterval(() => {\n    if (amountVal === Number(amount.value)) {\n      clearInterval(intervalId);\n      return;\n    }\n    amountVal += 1;\n    position += 1;\n    createPromise(position, delayInput)\n      .then(({ position, delay }) => {\n        Notiflix.Notify.success(\n          `✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n      });\n    delayInput += Number(step.value);\n  }, 0); \n}"],"names":["$6JpON","parcelRequire","document","querySelector","addEventListener","evt","preventDefault","_elements","currentTarget","elements","delay1","delay","step","amount","delayInput","Number","value","amountVal","position1","intervalId","setInterval","position","Promise","res","rej","setTimeout","Math","random","then","param","$parcel$interopDefault","Notify","success","concat","catch","failure","clearInterval"],"version":3,"file":"03-promises.85d7f028.js.map"}